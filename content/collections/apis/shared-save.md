---
title: 共有セーブ
slug: shared-save
description: 特定のサーバーセーブデータを取得する機能について
order: 14
navi: 機能解説
---
    
## 概要
指定ユーザーの特定キー（`Atsumaru Shared`）のサーバーセーブデータを取得できる機能です。このセーブデータのことを「共有セーブ」と呼びます。
    
## なにができるのか

指定ユーザーの共有セーブを取得できます。この機能だけでは誰からデータを取得すればいいのかわかりませんが、他APIと組み合わせることにより、非同期通信型のゲームが制作可能になります。
    
例えば、[12](/)で、そのゲームを最近プレイしたユーザーがわかるので、そのユーザーの共有セーブに保存されたデータ（例えばアイテムなど）を取得することで、疑似的なすれ違い通信のようなゲームが作成できます。
    
なお、未ログインユーザーは共有セーブをサーバーに保存できませんが、他人の共有セーブを取得することについては問題なく行えます。

    
## 例
以下のような利用を想定しています。
 - 選択したアバターと一言メッセージを保存し、表示する広場
 - 作成したモンスターキャラクターのデータ共有
    
例えば、次のサンプルゲームではこの機能を利用し、選択したアバターと一言メッセージを共有セーブに保存しています。
 - [【ゲームAPIサンプル】AsyncProfile（ユーザー情報取得API・共有セーブAPI）](https://game.nicovideo.jp/atsumaru/games/gm9291)
    - [プロジェクトファイルダウンロードはこちら](/download/sample-projects#AsyncProfile)
    
また、こちらのサンプルゲームでは、作成したスライムの情報を共有セーブに保存し、ほかのユーザーの作成したスライムと戦わせています。（バトルの結果は、[ユーザーシグナル](/signal)で送信しています）
 - [【ゲームAPIサンプル】スライムバトラー（ユーザーシグナルAPI・共有セーブAPI）](https://game.nicovideo.jp/atsumaru/games/gm9294)
    - [プロジェクトファイルダウンロードはこちら](/download/sample-projects#SlimeBattler)
    
## 機能詳細
 - 共有対象のデータは、`Atsumaru Shared` というkeyで保存されたサーバーセーブデータです。
 - セーブの保存については[5](/)を参照ください。
 - 共有対象にしたくないデータは、この key を使用しないようにご注意ください。
 - 本機能でできるのは共有セーブの **取得のみ** で、共有元への書き込みはできません。
 - 一度に取得できるデータは100件までで、それ以上のデータを一度に取得しようとするとエラーになります。
    
### 他のゲームの共有セーブへのアクセス禁止条件
取得先のゲームと取得元のゲームが同じ場合、共有セーブへのアクセスは必ず認められます。一方で他のゲームの共有セーブを取得する場合は、以下の条件のうちいずれかに該当した場合、アクセス禁止となり [FORBIDDEN](/common/errors) エラーが返されます。
 - 取得先のゲームが公開されていない（ただし取得先のゲームの作者本人は、取得先のゲームが公開されていなくても例外的に共有セーブを取得できます）
 - 取得先のゲームと取得元のゲームの作者が違う
    
### 共有セーブ取得の絞り込み条件
前節にかかわらず、以下の条件を満たした共有セーブは取得できません。その場合、取得できるユーザーの共有セーブのみに絞り込まれて返されます。
 - 指定したユーザーが存在しない
 - 指定したユーザーの共有セーブが無い
 - 指定したユーザーが[プレイヤー間通信の有効化](/common/interplayer)をしていない（ただし、自分自身の共有セーブはプレイヤー間通信の有効化をしていなくてもセーブを取得できます）
    
## 利用方法

方式|利用方法|備考
:---|:---|:---
プラグイン|プラグインでの利用方法の「[共有セーブ](/plugins/shared-save)」項を参考に、APIを実装してください|RPGツクールMVユーザー向け
API|APIでの利用方法の「[共有セーブ](/apis/shared-save)」項を参考に、APIを実装してください|他ゲームエンジンやより高度な利用を必要とするユーザー向け

    
## 最終更新日
 - 2020/02/28
